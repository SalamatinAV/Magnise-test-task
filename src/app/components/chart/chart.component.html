<div>
  <span style="display: inline-block; margin: 1rem 0">Chart filter:</span>

  <div class="chart-control" [formGroup]="formGroup">
    <mat-form-field>
      <mat-label>Start Date</mat-label>
      <input matInput [matDatepicker]="picker" formControlName="startDate" />
      <mat-datepicker-toggle
        matIconSuffix
        [for]="picker"
      ></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>

    <mat-form-field>
      <mat-label>End Date</mat-label>
      <input matInput [matDatepicker]="picker2" formControlName="endDate" />
      <mat-datepicker-toggle
        matIconSuffix
        [for]="picker2"
      ></mat-datepicker-toggle>
      <mat-datepicker #picker2></mat-datepicker>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Periodicity</mat-label>
      <mat-select formControlName="periodicity">
        @for (period of periodicityItems; track period) {
        <mat-option [value]="period.value">{{ period.view }}</mat-option>
        }
      </mat-select>
    </mat-form-field>

    <mat-form-field class="example-full-width">
      <mat-label>Interval</mat-label>
      <input matInput type="number" formControlName="interval" min="1" />
    </mat-form-field>

    <button mat-raised-button [disabled]="!formGroup.valid" (click)="onClick()">
      Apply
    </button>
  </div>

  <canvas
    baseChart
    [data]="barChartData"
    [options]="barChartOptions"
    type="bar"
  >
  </canvas>
</div>
